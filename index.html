<!DOCTYPE html>
<html>
<head>
<title>Employee Incident Report Form</title>
<meta name="viewport" content="width=device-width; initial-scale=1.0;">
<meta charset="UTF-8">
<meta name="author" content="Tosh Newton">
<link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="logo">
        <img src="imgs/2020-FINAL_ONE_LOGO_8.20_SOLID-ICON_GRAY-CO-NAME.png" alt="OneStaff Medical Logo" height="160" id="logo">
    </div>

    <div class="rowHeader">
        <h1>Employee Incident Report</h1>
        <h2>Injury/Illness</h2>
        <hr>
        <p>
            Employees shall use this form to report work-related injuries, illnesses 
            which could have caused an injury or illness â€“ no matter how minor. 
            Employee completes the form during their work-shift (or within 24-hours of incident.)
        </p>
    </div>
    <form id="form" action="mailto:awettengel@onestaffmedical.com;kdawson@onestaffmedical.com" method="GET">
        <div class="tab">
            <p class="inlineP">I am reporting a work related:</p>
            <input type="radio" id="injury" name="reportType" value="Injury" required>
            <label for="injury">Injury</label>
            <input type="radio" id="illness" name="reportType" value="Illness">
            <label for="illness">Illness</label>
        </div>

        <div class="tab">
            <label for="employeeName">Your Name:</label>
            <input type="text" id="employeeName" name="employeeName" class="formTextBox" required><br>

            <label for="jobTitle">Job Title:</label>
            <input type="text" id="jobTitle" name="jobTitle" autocomplete="off" class="formTextBox" required><br>
        </div>

        <div class="tab">
            <label for="recruiterName">Recruiter Name:</label>
            <input type="text" id="recruiterName" name="recruiterName" class="formTextBox" required><br>

            <label for="supervisorAtFacilityName">Supervisor at Facility Name:</label>
            <input type="text" id="supervisorAtFacilityName" name="supervisorAtFacilityName" autocomplete="off" class="formTextBox" required><br>

            <label for="reportTo">Who did you report to?</label>
            <input type="text" id="reportTo" name="reportTo" autocomplete="off" class="formTextBox" required><br>
        </div>

        <div class="tab">
            <label for="incidentDate">Date of incident:</label>
            <input type="date" id="incidentDate" name="incidentDate" class="formTextBox"  required><br>

            <label for="incidentTime">Time of incident:</label>
            <input type="time" id="incidentTime" name="incidentTime" class="formTextBox" required><br>    

            <label for="shiftStartTime">Time you started shift:</label>
            <input type="time" id="shiftStartTime" name="shiftStartTime" class="formTextBox" required><br>
        </div>

        <div class="tab">
            <label for="witnesses">Names of witnesses (if any):</label>
            <input type="text" id="witnesses" name="witnesses" autocomplete="off" placeholder="n/a if not applicable" class="formTextBox"><br>
        </div>

        <div class="tab">
            <p class="inlineP">Was anyone assisting you at the time?</p>
            <input type="radio" id="yes" name="assistance" value="Yes" required>
            <label for="yes">Yes</label>
            <input type="radio" id="no" name="assistance" value="No">
            <label for="no">No</label><br><br>
            
            <label for="assistanceFromWho">Who?</label>
            <input type="text" id="assistanceFromWho" name="assistanceFromWho" autocomplete="off" placeholder="n/a if not applicable" class="formTextBox">
        </div>

        <div class="tab">
            <p>Where exactly did it happen?</p>
            <textarea rows="4" cols="50" name="location" placeholder="Enter location here..." required></textarea><br>

            <p>What were you doing at the time?</p>
            <textarea rows="4" cols="50" name="task" placeholder="Enter task here..."required></textarea><br>
        </div>

        <div class="tab">
            <p>Describe step by step what led to the incident:</p>
            <textarea rows="4" cols="50" name="preceedingIncident" placeholder="Enter what led to the incident here..."required></textarea><br>
        </div>
        
        <div class="tab">
            <p>What part(s) of your body were injured?</p>
            <textarea rows="4" cols="50" name="affectedAreas" placeholder="Enter affected body part(s) here..."required></textarea><br>
        </div>

        <div class="tab">
            <p class="inlineP">Did you get medical treatment?</p>
            <input type="radio" id="yes" name="medicalTreatment" value="Yes" required>
            <label for="yes">Yes</label>
            <input type="radio" id="no" name="medicalTreatment" value="No">
            <label for="no">No</label><br><br>

            <label for="treatmentDr">If yes, whom did you see?</label><br>
            <input type="text" id="treatmentDr" name="treatmentDr" autocomplete="off" placeholder="n/a if not applicable" class="formTextBox" ><br>

            <label for="treatmentDrPhone">Doctor Phone Number:</label><br>
            <input type="tel" id="treatmentDrPhone" name="treatmentDrPhone" autocomplete="off" placeholder="555-555-5555" class="formTextBox" ><br>

            <textarea rows="2" cols="50" name="treatmentFacility" placeholder="Enter name and address of facility if applicable here..."></textarea><br>
        </div>

        <div class="tab">
            <p class="inlineP">Has this body part been injured before?</p>
            <input type="radio" id="yes" name="assistance" value="Yes" required>
            <label for="yes">Yes</label>
            <input type="radio" id="no" name="assistance" value="No">
            <label for="no">No</label>

            <p>If yes, when and what happened?</p>
            <textarea rows="2" cols="50" name="treatmentFacility" placeholder="Enter previous injury details here..."></textarea><br>
        </div>
        
        <div>
            <div style="float:right;">
              <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
              <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
            </div>
        </div>
          
        <!-- Circles which indicates the steps of the form: -->
        <div style="text-align:center;margin-top:40px;">
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
            <span class="step"></span>
        </div>
    </form>
    <script>
        var currentTab = 0; // Current tab is set to be the first tab (0)
        showTab(currentTab); // Display the current tab

        function showTab(n) {
        // This function will display the specified tab of the form ...
        var x = document.getElementsByClassName("tab");
        x[n].style.display = "block";
        // ... and fix the Previous/Next buttons:
        if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
        } else {
            document.getElementById("prevBtn").style.display = "inline";
        }
        if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Submit";
        } else {
            document.getElementById("nextBtn").innerHTML = "Next";
        }
        // ... and run a function that displays the correct step indicator:
        fixStepIndicator(n)
        }

        function nextPrev(n) {
        // This function will figure out which tab to display
        var x = document.getElementsByClassName("tab");
        // Exit the function if any field in the current tab is invalid:
        if (n == 1 && !validateForm()) return false;
        // Hide the current tab:
        x[currentTab].style.display = "none";
        // Increase or decrease the current tab by 1:
        currentTab = currentTab + n;
        // if you have reached the end of the form... :
        if (currentTab >= x.length) {
            //...the form gets submitted:
            document.getElementById("form").submit();
            return false;
        }
        // Otherwise, display the correct tab:
        showTab(currentTab);
        }

        function validateForm() {
        // This function deals with validation of the form fields
        var x, y, i, valid = true;
        x = document.getElementsByClassName("tab");
        y = x[currentTab].getElementsByTagName("input");
        // A loop that checks every input field in the current tab:
        for (i = 0; i < y.length; i++) {
            // If a field is empty...
            if (y[i].value == "") {
            // add an "invalid" class to the field:
                y[i].className += " invalid";
                // and set the current valid status to false:
                valid = false;
            }
        }
        // If the valid status is true, mark the step as finished and valid:
        if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
        }
        return valid; // return the valid status
        }

        function fixStepIndicator(n) {
        // This function removes the "active" class of all steps...
            var i, x = document.getElementsByClassName("step");
            for (i = 0; i < x.length; i++) {
                x[i].className = x[i].className.replace(" active", "");
            }
            //... and adds the "active" class to the current step:
            x[n].className += " active";
        }
    </script>
</body>
</html>